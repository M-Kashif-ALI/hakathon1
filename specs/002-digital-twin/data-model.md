# Data Model: Digital Twin for Humanoid Robotics (Gazebo & Unity)

## Overview
This document defines the key data structures and entities for the digital twin module, focusing on simulation environments, sensor data, and robot models for humanoid robotics education.

## Key Entities

### Digital Twin Environment
**Description**: A virtual representation of physical systems that mirrors real-world properties, behaviors, and interactions for a humanoid robot

**Attributes**:
- environment_id: Unique identifier for the simulation environment
- name: Human-readable name of the environment
- description: Detailed description of the environment
- physics_parameters: Configuration for gravity, friction, collision properties
- robot_models: Collection of robot models available in the environment
- sensor_configurations: Predefined sensor configurations available

### Simulated Sensor Data
**Description**: Synthetic sensor readings generated by simulation engines that mimic real sensor behavior and noise characteristics

**Attributes**:
- sensor_type: Type of sensor (LiDAR, depth camera, IMU, etc.)
- timestamp: Time of sensor reading
- data_payload: The actual sensor data in appropriate format
- noise_model: Parameters for simulating sensor noise
- accuracy_metrics: Fidelity measurements compared to real sensors
- ros2_compatibility: Message type compatibility with ROS 2

### Physics Model
**Description**: Mathematical representation of physical properties (mass, friction, collision) that govern robot and environment behavior in simulation

**Attributes**:
- model_id: Unique identifier for the physics model
- mass_properties: Mass, center of mass, and inertia tensor
- collision_properties: Collision shapes and parameters
- friction_coefficients: Static and dynamic friction values
- damping_parameters: Linear and angular damping coefficients
- joint_constraints: Limits and properties for robot joints

### Humanoid Robot Model
**Description**: Representation of a humanoid robot with articulated joints, links, and kinematic properties

**Attributes**:
- robot_id: Unique identifier for the robot model
- urdf_path: Path to the URDF description file
- joint_count: Number of joints in the robot
- link_count: Number of links in the robot
- degrees_of_freedom: Total DOF of the robot
- sensor_mounts: Locations where sensors can be mounted
- actuator_properties: Properties of each joint actuator

### Simulation Configuration
**Description**: Settings that define how a simulation should run, including physics parameters and environment settings

**Attributes**:
- config_id: Unique identifier for the configuration
- physics_engine: Name of the physics engine to use (Gazebo, etc.)
- time_step: Simulation time step in seconds
- gravity: Gravity vector (x, y, z)
- rendering_quality: Quality level for visual rendering
- sensor_update_rates: Update rates for different sensor types

## Relationships

### Digital Twin Environment → Humanoid Robot Model
- One environment can contain multiple robot models
- Each robot model can be used in multiple environments

### Digital Twin Environment → Simulation Configuration
- Each environment has one primary configuration
- Multiple configurations can exist for the same environment

### Humanoid Robot Model → Simulated Sensor Data
- Each robot model can have multiple sensor data streams
- Each sensor data stream is associated with specific sensor mounts on the robot

### Physics Model → Humanoid Robot Model
- Each robot model has one physics model
- Physics model defines the physical behavior of the robot

## Validation Rules

### Digital Twin Environment
- Must have a unique name within the system
- Physics parameters must be valid for the chosen physics engine
- Robot models must be compatible with the environment

### Simulated Sensor Data
- Must conform to appropriate ROS 2 message types
- Timestamps must be monotonic within a simulation
- Data payload must match the declared sensor type

### Physics Model
- Mass properties must be positive values
- Inertia tensor must be physically valid
- Joint constraints must be within reasonable ranges

### Humanoid Robot Model
- URDF must be valid and parseable
- Joint limits must be physically reasonable
- Sensor mount locations must be valid

## State Transitions

### Simulation Session
- **Created**: Configuration loaded, ready to start
- **Running**: Simulation actively executing
- **Paused**: Simulation temporarily stopped
- **Completed**: Simulation finished normally
- **Failed**: Simulation terminated due to error